{% load static %}
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Dean Information System | Log in</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="{% static "plugins/fontawesome-free/css/all.min.css" %}">
  <!-- Ionicons -->
  <link rel="stylesheet" href="{% static "https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" %}">
  <!-- icheck bootstrap -->
  <link rel="stylesheet" href="{% static "plugins/icheck-bootstrap/icheck-bootstrap.min.css" %}">
  <!-- Theme style -->
  <link rel="stylesheet" href="{% static "dist/css/adminlte.min.css" %}">
  <!-- Google Font: Source Sans Pro -->
  <link href="{% static "https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" %}" rel="stylesheet">
</head>
<body class="hold-transition login-page"> 







  <div class="login-box">
  <!-- /.login-logo -->
  <div class="card">
    <div class="card-body login-card-body">
      <p class="login-box-msg">Sign in to |  Dean Information  System</p>

      <form action="/doLogin" method="post" id="demo-form">
      {% csrf_token %}
        <div class="input-group mb-3">
          <input type="email" class="form-control" placeholder="Email"  name="email" required>
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-envelope"></span>
            </div>
          </div>
        </div>
        <div class="input-group mb-3">
          <input type="password" class="form-control" placeholder="Password" name="password" required>
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-lock"></span>
            </div>
          </div>
        </div>



        <!--for the reCaptcha)-->

        <div class="input-group mb-3">
                <div class="g-recaptcha" data-sitekey="6LfWaCUjAAAAAD2N0g5wA6B4HxBPeWsrgyb8r7Lj "></div>
               
               {% comment %} <div class="g-recaptcha" data-sitekey="6LeWtqUZAAAAAMO6YmxX5_XWel9hLWrb_iEiff26"></div> {% endcomment %}

               <!-- now let us complete our server side - means let check the captcha token if it is valid or not in our views.py under the do_login function -->
        </div>
<!--this is the link to the recaptcha-> https://www.google.com/recaptcha/intro/v3.html-->


        <div class="row">
          <!-- /.col -->
          <div class="col-12">
            <button type="submit" class="btn btn-primary btn-block" >Sign In</button>
          </div><!-- /.col -->

          
           <div class="col-12 text-center">
             <a href="{% url 'password_reset' %}">Reset Password</a>
          </div>

            {% comment %} <div class="col-12 text-center">
             <a href="{% url 'signup_admin' %}">Admin Signup</a>
          </div>

              <div class="col-12 text-center">
             <a href="{% url 'signup_staff' %}">Staff Signup </a>
          </div>

             <div class="col-12 text-center">
             <a href="{% url 'signup_student' %}">Student Signup</a>
          </div>
           {% endcomment %}
        </div>
        <div class="row">

<!--======================error message block  pass==from our doLogin function in views.py===============================-->
        <!--Here we add a block for showing error message on login failed--->
          {% if messages %} <!--we add a condition ie if message is not false-->
              <div class="col-12">
                  {% for message in messages %} <!--Here we add for loop to check all messages-->
                      {% if message.tags == 'error' %} <!--Now we check if messages.tags == "error" then we print the error message-->
                          <div class="alert alert-danger" style="margin-top:10px">{{ message }}</div> <!--then we print the message data (ie we can access this message data from our views.py in the function doLogin that is in the else block (invalid login details then we redirect the user on the same page -->
                      {% endif %}
                      {% if message.tags == 'success' %}
                      <div class="alert alert-success" style="margin-top:10px">{{ message }}</div>
                      {% endif %}
                  {% endfor %}
                </div>
          {% endif %}
        </div>
      </form>

      <!-- /.social-auth-links -->

    </div>
    <!-- /.login-card-body -->
  </div>
</div>
<!-- /.login-box -->

<!-- jQuery -->
<script src="{% static "plugins/jquery/jquery.min.js" %}"></script>
<!-- Bootstrap 4 -->
<script src="{% static "plugins/bootstrap/js/bootstrap.bundle.min.js" %}"></script>
<!-- AdminLTE App -->
<script src="{% static "dist/js/adminlte.min.js" %}"></script>
<script src="https://www.google.com/recaptcha/api.js" async defer></script> <!--this is the link to for the recaptcha-->





<!--==============6====this is for auto logout =============-->
{% comment %} {% for message in messages %}
    <div class="message text-center alert alert-info{{ message.tags }}">
        {{ message }}
    </div>
{% endfor %} {% endcomment %}




</body>
</html>

